<!DOCTYPE html>
<html lang="en" class="theme-default">
    <head>
        <title>Dev Web</title>

        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0" />
        <meta name="next-size-adjust" content="">
        <meta charset="UTF-8" />

        <link rel="shortcut icon" href="/assets/logo.png" />
        <link rel="apple-touch-icon" href="/assets/logo.png" />
        <link rel="image_src" href="/assets/logo.png" />
        <link rel="search" type="application/opensearchdescription+xml" title="Goldenapple3619's Website" href="/opensearch.xml" />
        <link rel="canonical" href="https://Goldenapple3619.github.io" />

        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://Goldenapple3619.github.io" />
        <meta property="og:site_name" content="Goldenapple3619's Website" />
        <meta property="og:title" content="Goldenapple3619's Website" />
        <meta property="og:image" itemprop="image primaryImageOfPage" content="/assets/logo.png" />
        <meta property="og:description" content="Goldenapple3619's Personal Website" />

        <meta name="description" content="Goldenapple3619's Personal Website" />
        <meta name="keywords" content="Goldenapple3619,personal website">

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:domain" content="Goldenapple3619.github.io" />
        <meta name="twitter:title" property="og:title" itemprop="name" content="Goldenapple3619's Website" />
        <meta name="twitter:description" property="og:description" itemprop="description" content="Goldenapple3619's personal Website" />

        <link href="/style/themes/theme-default.css" rel="stylesheet" />

        <link href="/style/common.css" rel="stylesheet" />
        <link href="/style/main.css" rel="stylesheet" />
        <link href="/style/gallery.css" rel="stylesheet" />

        <script src="/scripts/gallery.js" type="text/javascript"></script>
        <script src="/scripts/jsonDataLoader.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="app" id="app">
            <div class="window-fill-x-auto window-fill-y-auto window" style="width: calc(100% - 300px); max-width: 700px;">
                <div class="window-header" style="display: flex; flex-direction: row; justify-content: space-between;">
                    <bold>Web Dev</bold>
                    <button class="close-button" onclick="document.location.href='/';"></button>
                </div>
                <div class="window-body" style="height: 100vh; max-height: 500px; display: flex; flex-direction: column;">
                     <div class="projects container" style="display: flex; flex-direction: column; margin-left: 20px; margin-right: 20px; margin-top: 10px;">
                        <legend>Projects</legend>

                        <div class="gallery-controls" style="border-radius: 0;">
                            <div class="gallery" style="height: 300px; border: none;">
                                <div class="gallery-item gallery-container display-state" style="border-radius: 0; display: flex; justify-content: center; align-items: center;">
                                    Loading...
                                </div>
                            </div>

                            <button class="gallery-btn prev">❮</button>
                            <button class="gallery-btn next">❯</button>
                        </div>
                    </div>
                    <div class="github container" style="display: flex; flex-direction: column; margin-left: 20px; margin-right: 20px; margin-top: 10px;">
                        <legend>Links</legend>

                        <a class="link" href="https://github.com/Goldenapple3619">Github Profile</a>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            var container = document.body.querySelector(".gallery");
            var state = container.querySelector(".display-state");
            var prev = container.parentNode.querySelector(".gallery-btn.prev");
            var next = container.parentNode.querySelector(".gallery-btn.next");

            prev.style.display = "none";
            next.style.display = "none"; 

            window.document.JLI.fetch("/assets/json/web-projects.json", "wplist").then((list) => {
                container.innerHTML = '';

                list.forEach(element => {
                    let child = document.createElement("div");
                    let infoContainer = document.createElement("div");
                    let title = document.createElement("p");
                    let contentContainer = document.createElement("div");
                    let description = document.createElement("p");
                    var links = document.createElement("div");
        
                    child.classList.add("gallery-item", "gallery-container");
                    child.style.borderRadius = "0";

                    infoContainer.classList.add("project-info");

                    title.classList.add("text", "name");
                    title.innerText = element.title;

                    contentContainer.classList.add("content");

                    description.classList.add("description", "text");
                    description.innerText = element.description;

                    links.classList.add("links");

                    element.links.forEach(link => {
                        let linkElement = document.createElement("a");

                        linkElement.href = link.url;
                        linkElement.innerText = link.name;
                        linkElement.classList.add("link");

                        links.appendChild(linkElement);
                    });

                    contentContainer.appendChild(description);
                    contentContainer.appendChild(links);
                    infoContainer.appendChild(title);
                    infoContainer.appendChild(contentContainer);
                    child.appendChild(infoContainer);
                    container.appendChild(child);
                });

                prev.style.display = "inline-block";
                next.style.display = "inline-block"; 

                window.document.reloadGallery();
            }).catch(err => {
                state.innerText = err;
            });
        </script>
    </body>
</html>